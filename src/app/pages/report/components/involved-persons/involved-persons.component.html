<strong class="text-strong"></strong>
<div align="center" class="mt-3">
    <strong class="text-strong">INVOLVED PEOPLE</strong>
</div>
<div class="d-flex justify-content-center align-items-center">
  <div class="text-center w-100">
    <span style="font-size:87%; line-height:116%">
      CODES: D - Driver (1, 2, 3)
      <span style="color:transparent">—</span> 
      W - WITNESS (1, 2, 3)
      <span style="color:transparent">—</span> 
      P - Passenger (1, 2, 3)
      <span style="color:transparent">—</span> 
      PED - PEDESTRIAN (1, 2, 3)
    </span>
  </div>
  <div class="ms-auto">
    <button class="btn btn-primary btn-sm ms-1 mb-1 mr-1 fw-bold" (click)="personService.addPerson()">+</button>
  </div>
</div>
<table style="width:100%;display:inline-table;border:#333 solid 1px;background:#fff;font-family:Arial;table-layout:fixed;">
    <tr>
        <td valign="top" class="small-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">CODE</strong></span>
        </td>
        <td valign="top" class="large-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">L. NAME</strong></span>
        </td>
        <td valign="top" class="large-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">F. NAME</strong></span>
        </td>
        <td valign="top"class="small-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">SEX</strong></span>
        </td>
        <td valign="top" class="small-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">AGE</strong></span>
        </td>
        <td valign="top" class="small-cell">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">BELTED</strong></span>
        </td>
        <td class="large-cell" valign="top">
            <span style="font-size:85%;line-height:116%"><strong class="text-strong">STATUS</strong></span>
        </td>
        <td valign="top">   
        </td>
    </tr>
    <tr *ngFor="let person of personService.getPersons()">
        <td valign="top">
            <div ngbDropdown class="d-inline-block">
                <button class="btn btn-outline-secondary btn-sm px-2 py-1" id="dropdownMenu" ngbDropdownToggle>
                  {{ person.id }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownMenu">
                  <button ngbDropdownItem class="btn-sm" *ngFor="let option of filterCodeOptions(person.id)" (click)="personService.setIdFor(person.id, option)">
                    {{ option }}
                  </button>
                </div>
            </div>
        </td>
        <td valign="top">
            <input type="text" id="smallInput" class="form-control form-control-sm" placeholder="L. Name" (input)="onLNameChange(person.id, $event)">
        </td>
        <td valign="top">
            <input type="text" id="smallInput" class="form-control form-control-sm" placeholder="F. Name" (input)="onFNameChange(person.id, $event)">
        </td>
        <td valign="top">
            <div ngbDropdown class="d-inline-block">
                <button class="btn btn-outline-secondary btn-sm px-2 py-1" id="dropdownMenu" ngbDropdownToggle>
                  {{ person.sex || sexOptions[0] }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownMenu">
                  <button ngbDropdownItem class="btn-sm" *ngFor="let option of sexOptions" (click)="personService.setSexFor(person.id, option)">
                    {{ option }}
                  </button>
                </div>
            </div>
        </td>
        <td valign="top">
            <input type="text" id="smallInput" class="form-control form-control-sm age-input" placeholder="Age" (input)="onAgeChange(person.id, $event)">
        </td>
        <td valign="top">
            <div ngbDropdown class="d-inline-block">
                <button class="btn btn-outline-secondary btn-sm px-2 py-1" id="dropdownMenu" ngbDropdownToggle>
                  {{ person.belted || beltedOptions[0] }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownMenu">
                  <button ngbDropdownItem class="btn-sm" *ngFor="let option of beltedOptions" (click)="personService.setBeltedFor(person.id, option)">
                    {{ option }}
                  </button>
                </div>
            </div>
        </td>
        <td valign="top">
            <div ngbDropdown class="d-inline-block">
                <button class="btn btn-outline-secondary btn-sm px-2 py-1" id="dropdownMenu" ngbDropdownToggle>
                  {{ person.status || statusOptions[0] }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownMenu">
                  <button ngbDropdownItem class="btn-sm" *ngFor="let option of statusOptions" (click)="personService.setStatusFor(person.id, option)">
                    {{ option }}
                  </button>
                </div>
            </div>
        </td>
        <td class="text-center">
          <button class="btn btn-danger del fw-bold" (click)="personService.removePerson(person.id)">X</button>
        </td>
    </tr>
</table><br>