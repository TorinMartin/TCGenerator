<div style="overflow:hidden;background-color:white;border:1px solid rgba(0,0,0,0.2);border-radius:5px;margin:10px 10px;padding:15px">
    <div align="center"><span style="font-size:85%;line-height:116%"><strong class="text-strong">ATTACHED EVIDENCE</strong></span></div>
    <div class="d-flex justify-content-center">
      <button class="btn btn-primary btn-sm ms-1 mb-1 mr-1 fw-bold" (click)="openModal()">Add Evidence</button>
    </div>
    <br>
    <div *ngFor="let exhibit of getExhibits()">
      <div class="d-flex align-items-center mb-1">
         <button class="btn btn-danger del fw-bold btn-sm mr-1" (click)="removeExhibit(exhibit.id)">X</button>
         <span class="ms-1" style="font-size:85%;line-height:116%">{{ generateExhibitTitle(exhibit) }}</span>
      </div>
      <div *ngIf="exhibit.isSpoiler; else noSpoiler" class="mb-3">
         <div style="background-color:#fff;border:1px solid #d8d8d8;font-size:1em;overflow:hidden">
            <div class="p-1" style="text-transform:uppercase;border-bottom:1px solid #ccc;margin-bottom:3px;font-size:0.8em;font-weight:bold;display:block"><span onclick="if (this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display != '') {  this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display = ''; this.innerHTML = '&lt;b&gt;SPOILER: &lt;/b&gt;&lt;a href=\'#\' onClick=\'return false;\'&gt;hide&lt;/a&gt;'; } else { this.parentNode.parentNode.getElementsByTagName('div')[1].getElementsByTagName('div')[0].style.display = 'none'; this.innerHTML = '&lt;b&gt;SPOILER: &lt;/b&gt;&lt;a href=\'#\' onClick=\'return false;\'&gt;show&lt;/a&gt;'; }"><b>SPOILER: </b><a href="#" onclick="return false;">show</a></span></div>
            <div class="quotecontent p-1">
               <div style="display:none">
                  <div *ngFor="let evidence of exhibit.evidence">
                     <p *ngIf="evidence.type === 'text'">{{ evidence.value }}</p>
                     <img *ngIf="evidence.type === 'image'" [src]="evidence.value" class="postimage" alt="Image">
                     <p *ngIf="evidence.type === 'do'" class="do">{{ evidence.value }}</p>
                   </div>
               </div>
            </div>
         </div>
      </div>

      <ng-template #noSpoiler>
         <ng-container *ngFor="let evidence of exhibit.evidence">
            <div class="mb-3">
               <p *ngIf="evidence.type === 'text'">{{ evidence.value }}</p>
               <img *ngIf="evidence.type === 'image'" [src]="evidence.value" class="postimage" alt="Image">
               <p *ngIf="evidence.type === 'do'" class="do">{{ evidence.value }}</p>
            </div>
         </ng-container>
      </ng-template>
    </div>
 </div>
